<!DOCTYPE html>
<html lang="en">

<head>
    <%- include("./partials/head"); %>
        <style>
            table {
                width: 85vw;
                border-collapse: collapse;
                margin: auto;
            }

            thead {
                background-color: #454545;
                text-align: center;
            }

            td {
                border: 1px solid #919191;
                padding: .5em 1em;
            }

            header {
                margin-top: 3em;
            }
        </style>
</head>

<body>
    <header>
        <h1>ADMIN DASHBOARD</h1>
    </header>
    <main>
        <div id="app">
            <table>
                <thead>
                    <td>Date/Time</td>
                    <td>Q1</td>
                    <td>Q2</td>
                    <td>Q3</td>
                    <td>Q4</td>
                    <td>Q5</td>
                    <td>Q6</td>
                    <td>Q7</td>
                    <td>Q8</td>
                    <td>Q9</td>
                    <td>Q10</td>
                    <td>Q11</td>
                    <td>Q12</td>
                </thead>
                <tbody>
                    <tr v-for="answer in data">
                        <td>{{answer.datetime}}</td>
                        <td>{{answer.q1}}</td>
                        <td>{{answer.q2}}</td>
                        <td>{{answer.q3}}</td>
                        <td>{{answer.q4}}</td>
                        <td>{{answer.q5}}</td>
                        <td>{{answer.q6}}</td>
                        <td>{{answer.q7}}</td>
                        <td>{{answer.q8}}</td>
                        <td>{{answer.q9}}</td>
                        <td>{{answer.q10}}</td>
                        <td>{{answer.q11}}</td>
                        <td>{{answer.q12}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>

    <script src="https://unpkg.com/vue@3"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>


    <script>
        const { createApp, ref, onMounted } = Vue

        createApp({
            setup() {
                const data = ref([])

                onMounted(async () => {
                    const res = await axios.get("/api/answers")
                    data.value = res.data
                })

                return {
                    data
                }
            }
        }).mount('#app')
    </script>
</body>

</html>